<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Flight - Pilot's Logbook</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-content">
                <a href="/dashboard.html" class="navbar-brand">Pilot's Logbook</a>
                <button class="navbar-toggle" id="navToggle">â˜°</button>
                <ul class="navbar-nav" id="navMenu">
                    <li><a href="/dashboard.html">Dashboard</a></li>
                    <li><a href="/add-flight.html" class="active">Add Flight</a></li>
                    <li><a href="/flights.html">View Flights</a></li>
                    <li><a href="/settings.html">Settings</a></li>
                    <li><a href="#" id="logoutBtn">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container" style="padding-top: 2rem; padding-bottom: 2rem;">
        <div class="container-narrow">
            <h1 class="mb-2">Add New Flight</h1>
            <p class="text-muted mb-4">Record a new flight entry in your logbook</p>

            <!-- Success Alert -->
            <div id="successAlert" class="alert alert-success hidden"></div>

            <!-- Error Alert -->
            <div id="errorAlert" class="alert alert-error hidden"></div>

            <!-- Flight Entry Form -->
            <form id="flightForm" class="card">
                <!-- Date -->
                <div class="form-group">
                    <label for="date" class="form-label required">Date</label>
                    <input type="date" id="date" name="date" class="form-input" required>
                    <div class="form-help">Flight date cannot be in the future</div>
                </div>

                <!-- Aircraft Category -->
                <div class="form-group">
                    <label class="form-label">Aircraft Category</label>
                    <div class="form-check">
                        <input type="radio" id="category_helicopter" name="aircraft_category" value="Helicopter" class="form-check-input" checked>
                        <label for="category_helicopter" class="form-check-label">Helicopter</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" id="category_aeroplane" name="aircraft_category" value="Aeroplane" class="form-check-input">
                        <label for="category_aeroplane" class="form-check-label">Aeroplane</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" id="category_simulator" name="aircraft_category" value="Simulator" class="form-check-input">
                        <label for="category_simulator" class="form-check-label">Simulator</label>
                    </div>
                </div>

                <!-- Engine Type -->
                <div class="form-group">
                    <label class="form-label">Engine Type</label>
                    <div class="form-check">
                        <input type="radio" id="engine_single" name="engine_type" value="Single Engine" class="form-check-input" checked>
                        <label for="engine_single" class="form-check-label">Single Engine</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" id="engine_multi" name="engine_type" value="Multi Engine" class="form-check-input">
                        <label for="engine_multi" class="form-check-label">Multi Engine</label>
                    </div>
                </div>

                <!-- Aircraft Type -->
                <div class="form-group">
                    <label for="aircraft_type" class="form-label required">Aircraft Type</label>
                    <select id="aircraft_type" name="aircraft_type" class="form-select" required>
                        <option value="">Select aircraft type</option>
                        <option value="R22">R22</option>
                        <option value="R44">R44</option>
                        <option value="AS350B2">AS350B2</option>
                        <option value="AS350B3">AS350B3</option>
                        <option value="H125">H125</option>
                        <option value="B206">B206</option>
                        <option value="Bell 212">Bell 212</option>
                    </select>
                </div>

                <!-- Registration -->
                <div class="form-group">
                    <label for="registration" class="form-label">Registration</label>
                    <input type="text" id="registration" name="registration" class="form-input" placeholder="e.g., C-GXXX" style="text-transform: uppercase;">
                </div>

                <!-- Pilot in Command -->
                <div class="form-group">
                    <label for="pic" class="form-label">Pilot in Command</label>
                    <div class="input-with-button">
                        <input type="text" id="pic" name="pic" class="form-input" placeholder="Pilot name">
                        <button type="button" class="btn btn-small btn-secondary self-btn" onclick="setSelf('pic')">Self</button>
                    </div>
                </div>

                <!-- Co-pilot/Student -->
                <div class="form-group">
                    <label for="copilot" class="form-label">Co-pilot / Student</label>
                    <div class="input-with-button">
                        <input type="text" id="copilot" name="copilot" class="form-input" placeholder="Co-pilot or student name">
                        <button type="button" class="btn btn-small btn-secondary self-btn" onclick="setSelf('copilot')">Self</button>
                    </div>
                </div>

                <!-- Flight Details/Route -->
                <div class="form-group">
                    <label for="route" class="form-label">Flight Details / Route</label>
                    <textarea id="route" name="route" class="form-textarea" placeholder="Describe the flight route and details"></textarea>
                    <!-- Quick Tags -->
                    <div id="tagsContainer" class="quick-tags hidden">
                        <div class="form-help mt-2">Quick tags (click to add):</div>
                        <div id="tagButtons" class="tag-buttons"></div>
                    </div>
                </div>

                <!-- Flight Time Breakdown -->
                <div class="form-group">
                    <label class="form-label">Flight Time (Hours)</label>
                    <div class="form-help mb-2">Enter flight time breakdown - total will be calculated automatically</div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="day_pic" class="form-label">Day PIC</label>
                        <input type="number" id="day_pic" name="day_pic" class="form-input" step="any" min="0" value="0" placeholder="0.0">
                    </div>
                    <div class="form-group">
                        <label for="night_pic" class="form-label">Night PIC</label>
                        <input type="number" id="night_pic" name="night_pic" class="form-input" step="any" min="0" value="0" placeholder="0.0">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="day_dual" class="form-label">Day Dual</label>
                        <input type="number" id="day_dual" name="day_dual" class="form-input" step="any" min="0" value="0" placeholder="0.0">
                    </div>
                    <div class="form-group">
                        <label for="night_dual" class="form-label">Night Dual</label>
                        <input type="number" id="night_dual" name="night_dual" class="form-input" step="any" min="0" value="0" placeholder="0.0">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="day_sic" class="form-label">Day SIC</label>
                        <input type="number" id="day_sic" name="day_sic" class="form-input" step="any" min="0" value="0" placeholder="0.0">
                    </div>
                    <div class="form-group">
                        <label for="night_sic" class="form-label">Night SIC</label>
                        <input type="number" id="night_sic" name="night_sic" class="form-input" step="any" min="0" value="0" placeholder="0.0">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="day_cmnd_practice" class="form-label">Day Comm'd Practice</label>
                        <input type="number" id="day_cmnd_practice" name="day_cmnd_practice" class="form-input" step="any" min="0" value="0" placeholder="0.0">
                    </div>
                    <div class="form-group">
                        <label for="night_cmnd_practice" class="form-label">Night Comm'd Practice</label>
                        <input type="number" id="night_cmnd_practice" name="night_cmnd_practice" class="form-input" step="any" min="0" value="0" placeholder="0.0">
                    </div>
                </div>

                <!-- Total Flight Time (calculated) -->
                <div class="form-group">
                    <label class="form-label">Total Flight Time</label>
                    <div id="total_flight_time" style="font-size: 1.25rem; font-weight: bold; color: var(--primary-color); padding: 0.5rem 0;">0.0 hours</div>
                </div>

                <!-- Custom Fields Container -->
                <div id="customFieldsContainer"></div>

                <!-- Takeoffs & Landings -->
                <div class="form-group">
                    <label class="form-label">Takeoffs & Landings</label>
                    <div class="form-help mb-2">Number of takeoff and landing events</div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="takeoffs_day" class="form-label">Day Takeoffs</label>
                        <input type="number" id="takeoffs_day" name="takeoffs_day" class="form-input" min="0" value="0" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label for="takeoffs_night" class="form-label">Night Takeoffs</label>
                        <input type="number" id="takeoffs_night" name="takeoffs_night" class="form-input" min="0" value="0" placeholder="0">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="landings_day" class="form-label">Day Landings</label>
                        <input type="number" id="landings_day" name="landings_day" class="form-input" min="0" value="0" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label for="landings_night" class="form-label">Night Landings</label>
                        <input type="number" id="landings_night" name="landings_night" class="form-input" min="0" value="0" placeholder="0">
                    </div>
                </div>

                <!-- Form Actions -->
                <div class="btn-group mt-3">
                    <button type="submit" class="btn btn-primary" id="submitBtn">
                        <span id="submitText">Add Flight</span>
                    </button>
                    <a href="/dashboard.html" class="btn btn-secondary">Cancel</a>
                </div>
            </form>
        </div>
    </main>

    <script src="/js/flight-form.js"></script>
</body>
</html>
